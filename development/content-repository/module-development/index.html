



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for Single Digital Presence">
      
      
        <link rel="canonical" href="https://dpc-sdp.github.io/sdp-docs/development/content-repository/module-development/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.2">
    
    
      
        <title>Module Development - Single Digital Presence</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.3020aac5.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#module-development" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://dpc-sdp.github.io/sdp-docs/" title="Single Digital Presence" class="md-header-nav__button md-logo">
          
            <img src="../../../images/logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Single Digital Presence
            </span>
            <span class="md-header-nav__topic">
              Module Development
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/dpc-sdp/sdp-docs" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    dpc-sdp/sdp-docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../.." title="About" class="md-tabs__link">
        About
      </a>
    
  </li>

      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../bay/" title="Bay" class="md-tabs__link">
          Bay
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../tide/" title="Tide" class="md-tabs__link">
          Tide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../ripple/" title="Ripple" class="md-tabs__link">
          Ripple
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../" title="Development" class="md-tabs__link md-tabs__link--active">
          Development
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://dpc-sdp.github.io/sdp-docs/" title="Single Digital Presence" class="md-nav__button md-logo">
      
        <img src="../../../images/logo.svg" width="48" height="48">
      
    </a>
    Single Digital Presence
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/dpc-sdp/sdp-docs" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    dpc-sdp/sdp-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="About" class="md-nav__link">
      About
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../terminology/" title="Terminology" class="md-nav__link">
      Terminology
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Bay
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Bay
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../bay/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../bay/onboarding/" title="Onboarding *" class="md-nav__link">
      Onboarding *
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../bay/preview-environments/" title="Preview environments" class="md-nav__link">
      Preview environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../bay/search/" title="Search *" class="md-nav__link">
      Search *
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Tide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Tide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tide/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tide/modules/" title="Modules" class="md-nav__link">
      Modules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tide/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tide/sites-sections/" title="Sites and sections" class="md-nav__link">
      Sites and sections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tide/fields-components/" title="Fields and components" class="md-nav__link">
      Fields and components
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Ripple
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Ripple
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ripple/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ripple/components/" title="Components" class="md-nav__link">
      Components
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ripple/api/" title="API *" class="md-nav__link">
      API *
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ripple/search/" title="Search *" class="md-nav__link">
      Search *
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ripple/content-data-flow/" title="Content data flow" class="md-nav__link">
      Content data flow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../ripple/setup/" title="Setup new site *" class="md-nav__link">
      Setup new site *
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      Development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2" checked>
    
    <label class="md-nav__link" for="nav-8-2">
      Content Repository
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-2">
        Content Repository
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../local-development-environment/" title="Local development environment" class="md-nav__link">
      Local development environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../automated-builds/" title="Automated builds" class="md-nav__link">
      Automated builds
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../coding-standards/" title="Coding standards" class="md-nav__link">
      Coding standards
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Module Development
      </label>
    
    <a href="./" title="Module Development" class="md-nav__link md-nav__link--active">
      Module Development
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#developing-contributed-module" title="Developing contributed module" class="md-nav__link">
    Developing contributed module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#releasing-a-contributed-module" title="Releasing a contributed module" class="md-nav__link">
    Releasing a contributed module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-dependent-modules" title="Working with dependent modules" class="md-nav__link">
    Working with dependent modules
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../readme-file/" title="README.md file" class="md-nav__link">
      README.md file
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-3" type="checkbox" id="nav-8-3">
    
    <label class="md-nav__link" for="nav-8-3">
      Frontend Website
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-3">
        Frontend Website
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend-website/setup/" title="Setup *" class="md-nav__link">
      Setup *
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend-website/style-guide/" title="Style guide" class="md-nav__link">
      Style guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend-website/local-development-environment/" title="Local development environment" class="md-nav__link">
      Local development environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend-website/automated-builds/" title="Automated builds" class="md-nav__link">
      Automated builds
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend-website/coding-standards/" title="Coding standards" class="md-nav__link">
      Coding standards
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend-website/component-development/" title="Component Development *" class="md-nav__link">
      Component Development *
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend-website/readme-file/" title="README.md file" class="md-nav__link">
      README.md file
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workflow/" title="Development workflow" class="md-nav__link">
      Development workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../code-review/" title="Code review" class="md-nav__link">
      Code review
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/" title="Release management" class="md-nav__link">
      Release management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../accessibility/" title="Accessibility" class="md-nav__link">
      Accessibility
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../documentation/" title="Maintaining this documentation" class="md-nav__link">
      Maintaining this documentation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#developing-contributed-module" title="Developing contributed module" class="md-nav__link">
    Developing contributed module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#releasing-a-contributed-module" title="Releasing a contributed module" class="md-nav__link">
    Releasing a contributed module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-dependent-modules" title="Working with dependent modules" class="md-nav__link">
    Working with dependent modules
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="module-development">Module development<a class="headerlink" href="#module-development" title="Permanent link">&para;</a></h1>
<h2 id="developing-contributed-module">Developing contributed module<a class="headerlink" href="#developing-contributed-module" title="Permanent link">&para;</a></h2>
<p>Development of the brand new contributed module (Tide or not) may take place
either in the separate repository or within an instance of the Content
Repository installation (followed by extraction into a separate module).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We are using <code>dpc-sdp</code> as an organisation and <code>tide_mymodule</code> in the
examples below. Update these values to your real organisation and module
name as required.</p>
</div>
<h3>Developing within an instance of Content Repository.</h3>
<ol>
<li>Create a local vendor directory <code>dpc-sdp</code> in the root of your project.</li>
<li>Create a module <code>tide_mymodule</code> in <code>dpc-sdp</code> directory with required 
   functionality.</li>
<li>Add repository information to your <code>composer.json</code>:
    <div class="codehilite"><pre><span></span>&quot;repositories&quot;: {
    &quot;dpc-sdp/tide_mymodule&quot;: {
        &quot;type&quot;: &quot;path&quot;,
        &quot;url&quot;: &quot;dpc-sdp/tide_mymodule&quot;
    }
}
</pre></div></li>
<li>Require this new module as a standard Composer package:
    <div class="codehilite"><pre><span></span>composer require dpc-sdp/tide_mymodule
</pre></div></li>
<li>Commit the changes to <code>composer.json</code> and <code>composer.lock</code>.</li>
<li>Enable module in Drupal.</li>
</ol>
<h3>Extracting contributed module into a separate repository</h3>
<ol>
<li>Create a repository on GitHub with the name of yor module: <code>dpc-sdp/tide_mymodule</code></li>
<li>Copy the contents from one of the existing tide repositories (for example,
   <a href="https://github.com/dpc-sdp/tide_page">Tide Page</a> or use 
   (Dev-Tools)[<a href="https://github.com/dpc-sdp/dev-tools">https://github.com/dpc-sdp/dev-tools</a>] for scaffolding.</li>
<li>Commit required files and push to remote.</li>
<li>Configure CircleCI to run tests for your module. Note that you must be an
   administrator of the repository to setup CircleCI.</li>
<li>Update <code>README.md</code> file with relevant information, including CircleCI build 
   status badge. </li>
<li>Depending if this module becomes a part of the Tide profile after being 
   extracted:</li>
<li>
<p>If this module becomes a part of Tide profile and your Content Repository 
     instance uses Tide profile, open a new PR to Tide profile repository and add the code below:
      <div class="codehilite"><pre><span></span>&quot;dpc-sdp/tide_mymodule&quot;: {
    &quot;type&quot;: &quot;vcs&quot;,
    &quot;no-api&quot;: true,
    &quot;url&quot;: &quot;https://github.com/dpc-sdp/tide_mymodule.git&quot;
},
</pre></div>
      Once added, reference this module in the Tide profile's <code>composer.json</code>.  </p>
</li>
<li>
<p>If this module is not going to be a part of the Tide profile or going
     to be included in your Content Repository instance directly, replace 
     configuration with the following:
      <div class="codehilite"><pre><span></span>&quot;dpc-sdp/tide_mymodule&quot;: {
 &quot;type&quot;: &quot;vcs&quot;,
 &quot;no-api&quot;: true,
 &quot;url&quot;: &quot;https://github.com/dpc-sdp/tide_mymodule.git&quot;
},
</pre></div></p>
</li>
<li>
<p>Run <code>composer update --lock</code> to update version information and references.</p>
</li>
<li>Commit the changes to <code>composer.json</code> and <code>composer.lock</code>.</li>
</ol>
<h2 id="releasing-a-contributed-module">Releasing a contributed module<a class="headerlink" href="#releasing-a-contributed-module" title="Permanent link">&para;</a></h2>
<p>Once the contributed module is ready to be released as a stable version, make 
sure that release versioning follows <a href="https://semver.org/">semantic versioning</a>. 
See <a href="http://sdp-docs.docker.amazee.io:8000/tide/modules/#versions">Versions</a> for 
more information about version increments. </p>
<h3>Patching modules</h3>
<p>During development of Content Repository instance or one of the Tide modules, 
there may become a need to apply a patch to one or more of the Tide modules. 
The patching process is similar to patching any other Composer dependency:
1. Create a PR with required change in the <code>dpc-sdp/tide_mymodule</code> GitHub page
2. Add <code>.patch</code> to the URL of the PR and go to that page in the browser.
3. Copy resulting redirected URL to the "patches" section of <code>composer.json</code>:
   <div class="codehilite"><pre><span></span>&quot;patches&quot;: {
    &quot;dpc-sdp/tide_mymodule&quot;: {
        &quot;Descritoipn of the PR&quot;: &quot;https://patch-diff.githubusercontent.com/raw/dpc-sdp/tide_mymodule/pull/123.patch&quot;
    },
}
</pre></div>
4. For Content repository instance, run <code>composer update --lock</code>
5. Commit changed <code>composer.json</code> and <code>composer.lock</code>.</p>
<h2 id="working-with-dependent-modules">Working with dependent modules<a class="headerlink" href="#working-with-dependent-modules" title="Permanent link">&para;</a></h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Before proceeding further, make sure that you are familiar with Tide modules 
<a href="../../../tide/modules/#tide-profile-vs-tide-core-module">dependency tree and versioning</a></p>
</div>
<p>In Tide ecosystem, there are modules that contain shared configuration (e.g. <code>tide_core</code>)
and configuration based on that shared one (e.g. <code>tide_page</code>). The simplest 
example is a field storage and field instance - fields may be re-used across
content types (each of which is a separate module), but the configuration for a 
field instance is shipped with a relevant module.</p>
<p>In this case, <code>tide_core</code> is a <em>dependent</em> and <code>tide_page</code> is a <em>dependee</em> module 
from the point of configuration hierarchy (field instance cannot exist without
filed storage),</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the explanation below we are using field storage and field instance as 
an example of configuration that has one shared parent and many unique 
children: a single field storage may be shared accross multiple content 
types and therefore have multiple field instances.</p>
</div>
<h3>Updating <em>dependee</em> module</h3>
<p>Updating <em>dependee</em> module is no different then updating any other modules when
updates do not require adding a new shared fields: create a PR with a change,
QA it, merge and release. </p>
<p>But updating <em>dependee</em> to add a shared storage to <em>dependant</em> module requires
additional coordination.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We are using <code>tide_core</code> as an example of the shared configuration storage 
module and <code>tide_page</code> as an example of the unique configuration sotrage 
module. But these can be any modules with similar configuration dependency 
hierarchy.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The steps below assume that change always triggers a release. Obvously, 
multiple changes can be bundled before publishing a new release.</p>
<p>The "<em>absolutely must</em>" is used in context "to immidiately apply the 
change". If the changes needs to be bundled, the  "<em>absolutely must</em>" is 
used to the last applied change only.    </p>
</div>
<ol>
<li>Add field storage configuration to <code>tide_core</code>, commit it, push to remote and 
   open new PR. </li>
<li>Add field instance configuration to <code>tide_page</code>, commit it.</li>
<li>Add a patch from <code>tide_core</code> PR (see 
   <a href="#releasing-a-contributed-module">Patching modules</a> above) to the <code>tide_page</code>
   <code>composer.json</code>, commit it, push to remote and open a new PR.</li>
<li>
<p>Assuming that QA/UAT process happens within an instance of the Content 
   repository, create a new branch, add both patches to <code>composer.json</code> and 
   create a PR that will allow to QA/UAT this change within fully installed site.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>At this point, there are 3 PRs opened and waiting for QA/UAT to approve 
changes.  </p>
</div>
</li>
<li>
<p>Once QA approved, perform a PR merge starting from the most deepest 
   <em>dependent</em> - <code>tide_core</code>. This is because field storage configuration may
   exist by itself, while field instance cannot.</p>
</li>
<li>Once merged, <code>tide_core</code> absolutely must increment it's version (see 
     <a href="../../../tide/modules/#tide-profile-vs-tide-core-module">dependency tree and versioning</a>)</li>
<li>The <em>dependee</em> <code>tide_page</code> PR has to now replace patch with a version
     constraint for <code>tide_core</code> to make sure that the latest version is used.
     Once this change is made, a PR should pass the CI checks and should be 
     merged to the main branch.</li>
<li>Once merged, the <em>dependee</em> <code>tide_page</code> absolutely must increment it's 
     release version.</li>
<li>If changed modules were required by <code>tide</code> profile, a new PR should be 
   created with new version constraints updated. Note that this step is required 
   only with constraints needs to be updated. I.e., <code>tide_page</code> would have it's
   <code>MAJOR</code> version incremented (due to an added field which is an API breaking 
   change), so the <code>tide</code> profile has to adjust it's version constraints 
   accordingly, if required. <br/>
   When PR passes CI, it may be merged to a <code>master</code> branch of the <code>tide</code> 
   profile. <br/>
   Once there are enough updates (according to release cycle or other release 
   schedule), a new release of the <code>tide</code> profile must be created. <br/>   </li>
<li>
<p>All consumer sites will receive the updated code once they run 
   <code>composer update</code>.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>At this point, there will be 2 releases in Tide modules, 1 release 
in Tide  profile and 1 release in consumer site.</p>
</div>
</li>
</ol>
<h3>Conclusion</h3>
<p>Although this change management process seemed over-complicated and cumbersome,
it provides:</p>
<ul>
<li>ability to QA and UAT every change independently</li>
<li>flexibility for consumer sites to include not-yet-merged changes as patches</li>
<li>utilise granular versioning for a large number of consumer websites </li>
<li>bundle changes before making a release        </li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../coding-standards/" title="Coding standards" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Coding standards
              </span>
            </div>
          </a>
        
        
          <a href="../readme-file/" title="README.md file" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                README.md file
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Department of Premier and Cabinet of Victoria
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/dpc-sdp" class="md-footer-social__link fa fa-github-alt"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.267712eb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>